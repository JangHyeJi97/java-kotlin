<html>
<head>
	<title>Document</title>
	<style>
	#exp { width:400px; height:50px; text-align:right; font-size:2em; }
	.btn { width:97px; height:97px; font-size:2em; background:#efefef; border:none; }
	</style>
	<script>
	function isOperator(chk) {
	// 받아온 문자가 연산자인지 여부를 리턴하는 함수
		if (chk == "+" || chk == "-" || chk == "*" || chk == "/") {
			return true;
		} else {
			return false;
		}
	}
	function calExp(val) {
		var exp = document.getElementById("exp");	// 수식이 들어가는 텍스트필드 객체
		var tmp = exp.value;	// exp에 현재 들어있는 수식
		var end = tmp.charAt(tmp.length - 1);

		if (val == "CE") {
			exp.value = "0";
		} else if (val == "=") {
			if (isOperator(end))	alert("정상적인 수식을 입력하세요.");
			else					exp.value = eval(tmp);
			// 현재 exp에 들어있는 수식을 eval()함수를 이용하여 계산한 후 exp에 넣어줌
		} else {
		// 입력값이 숫자이거나 연산자일 경우 처리하는 영역
			if (isOperator(val)) {
			// 지금 입력된(클릭한) 값이 연산자일 경우
				if (!isOperator(end))	exp.value = tmp + val;
				// 기존의 수식에서 마지막 글자가 연산자가 아니면 수식의 맨 뒤에 현재 입력한 연산자를 붙임
			} else {
			// 지금 입력된(클릭한) 값이 숫자일 경우
				if (tmp == "0")	exp.value = val;
				// 현재 수식이 "0"만 있으면 새로 입력한 값으로 덮어쓰기
				else			exp.value = tmp + val;
				// 현재 수식에 "0"이 아닌 다른 숫자나 수식이 있으면 새로 입력한 값을 뒤에 붙임
			}
		}
	}
	</script>
</head>
<body>
<table width="400">
<tr><td colspan="4">
	<input type="text" name="exp" id="exp" value="0" readonly="readonly" />
</td></tr>
<tr>
<td><input type="button" value="1" class="btn" onclick="calExp(this.value);" /></td>
<td><input type="button" value="2" class="btn" onclick="calExp(this.value);" /></td>
<td><input type="button" value="3" class="btn" onclick="calExp(this.value);" /></td>
<td><input type="button" value="+" class="btn" onclick="calExp(this.value);" /></td>
</tr>
<tr>
<td><input type="button" value="4" class="btn" onclick="calExp(this.value);" /></td>
<td><input type="button" value="5" class="btn" onclick="calExp(this.value);" /></td>
<td><input type="button" value="6" class="btn" onclick="calExp(this.value);" /></td>
<td><input type="button" value="-" class="btn" onclick="calExp(this.value);" /></td>
</tr>
<tr>
<td><input type="button" value="7" class="btn" onclick="calExp(this.value);" /></td>
<td><input type="button" value="8" class="btn" onclick="calExp(this.value);" /></td>
<td><input type="button" value="9" class="btn" onclick="calExp(this.value);" /></td>
<td><input type="button" value="*" class="btn" onclick="calExp(this.value);" /></td>
</tr>
<tr>
<td><input type="button" value="CE" class="btn" onclick="calExp(this.value);" /></td>
<td><input type="button" value="0" class="btn" onclick="calExp(this.value);" /></td>
<td><input type="button" value="=" class="btn" onclick="calExp(this.value);" /></td>
<td><input type="button" value="/" class="btn" onclick="calExp(this.value);" /></td>
</tr>
</table>
</body>
</html>
