<html>
<head>
	<title>Document</title>
	<style>
	#exp { width:400px; height:50px; font-size:2em; text-align:right; }
	.btn {
		width:97px; height:97px; font-size:2em; background:#efefef; 
		border-top:1px white solid; border-left:1px white solid; 
		border-right:2px #c1c1c1 solid; border-bottom:2px #c1c1c1 solid;
	}
	</style>
	<script>
	function isOperator(chk) {
		if (chk == "+" || chk == "-" || chk == "*" || chk == "/") {
			return true;
		} else {
			return false;
		}
	}
	function calExp(val) {
		var exp = document.getElementById("exp");	// 수식과 값이 출력될 텍스트필드
		var tmp = exp.value;	// 현재 exp에 들어있는 값 또는 수식
		var end = tmp.charAt(tmp.length - 1);	// 수식의 마지막 글자

		if (val == "CE") {				// 입력한 값이 'CE'이면 0으로 셋팅
			exp.value = 0;

		} else if (val == "=") {		// 입력한 값이 '='이면 계산 수행 후 출력
			if (isOperator(end))	alert("정상적인 수식을 입력하세요.");
			// 수식의 마지막 글자가 연산자이면 "정상적인 수식을 입력하세요." 메시지 출력
			else					exp.value = eval(tmp);
			// 수식의 마지막 글자가 숫자이면 연산 후 결과를 exp에 출력

		} else if (isOperator(val)) {	// 입력한 값이 연산자면 수식의 뒤에 추가
			if (!isOperator(end))	exp.value = tmp + val;
			// 수식의 마지막 글자가 연산자가 아니면 입력받은 연산자를 수식의 뒤에 붙임

		} else {						// 입력한 값이 숫자명 수식의 뒤에 추가
			if (tmp == "0")		exp.value = val;
			// 현재 exp에 들어있는 값이 0이면 입력된 값으로 변경
			else				exp.value = tmp + val;
			// 현재 exp에 들어있는 값이 0이 아니면 입력된 값을 뒤에 추가
		}
	}
	</script>
</head>
<body>
<table width="400">
<tr><td colspan="4">
	<input type="text" name="exp" id="exp" value="0" readonly="readonly" />
</td></tr>
<tr>
<td><input type="button" value="1" class="btn" onclick="calExp(this.value);" /></td>
<td><input type="button" value="2" class="btn" onclick="calExp(this.value);" /></td>
<td><input type="button" value="3" class="btn" onclick="calExp(this.value);" /></td>
<td><input type="button" value="+" class="btn" onclick="calExp(this.value);" /></td>
</tr>
<tr>
<td><input type="button" value="4" class="btn" onclick="calExp(this.value);" /></td>
<td><input type="button" value="5" class="btn" onclick="calExp(this.value);" /></td>
<td><input type="button" value="6" class="btn" onclick="calExp(this.value);" /></td>
<td><input type="button" value="-" class="btn" onclick="calExp(this.value);" /></td>
</tr>
<tr>
<td><input type="button" value="7" class="btn" onclick="calExp(this.value);" /></td>
<td><input type="button" value="8" class="btn" onclick="calExp(this.value);" /></td>
<td><input type="button" value="9" class="btn" onclick="calExp(this.value);" /></td>
<td><input type="button" value="*" class="btn" onclick="calExp(this.value);" /></td>
</tr>
<tr>
<td><input type="button" value="CE" class="btn" onclick="calExp(this.value);" /></td>
<td><input type="button" value="0" class="btn" onclick="calExp(this.value);" /></td>
<td><input type="button" value="=" class="btn" onclick="calExp(this.value);" /></td>
<td><input type="button" value="/" class="btn" onclick="calExp(this.value);" /></td>
</tr>
</table>
</body>
</html>
